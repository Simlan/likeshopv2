{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/utils/type.js","webpack:///./src/views/user/applyAfterSales.vue?8f35","webpack:///./src/assets/images/arrow_right.png","webpack:///./src/views/user/applyAfterSales.vue?e5b2","webpack:///src/views/user/applyAfterSales.vue","webpack:///./src/views/user/applyAfterSales.vue?7f39","webpack:///./src/views/user/applyAfterSales.vue"],"names":["_arrayWithoutHoles","arr","Array","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","Object","from","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","orderType","ALL","PAY","DELIVERY","FINISH","CLOSE","payWayType","wechat","AfterSaleType","NORMAL","HANDLING","refundOPtType","ONLY_REFUND","REFUNDS","SMSType","REGISTER","FINDPWD","LOGIN","CHANGE_MOBILE","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","goods","image","_v","_s","goods_name","spec_value","directives","name","rawName","value","hiddenOpt","expression","on","onlyRefund","_m","allRefunds","goods_num","primaryColor","goods_price","$event","showPopup","class","reasonIndex","reason","model","callback","$$v","remark","staticStyle","fileList","afterRead","onDelete","onSubmit","radioChange","_l","item","index","key","hidePop","staticRenderFns","data","optTyle","methods","uploadFile","$getGoodsInfo","res","code","$applyAfterSale","$applyAgain","id","afterSaleId","refund_type","img","setTimeout","created","mounted","itemId","item_id","orderId","order_id","after_sale_id","computed","component"],"mappings":"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","file":"js/chunk-2ec7edb4.6bdd921a.js","sourcesContent":["import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","// +----------------------------------------------------------------------\n// | LikeShop有特色的全开源社交分销电商系统\n// +----------------------------------------------------------------------\n// | 欢迎阅读学习系统程序代码，建议反馈是我们前进的动力\n// | 商业用途务必购买系统授权，以免引起不必要的法律纠纷\n// | 禁止对系统程序代码以任何目的，任何形式的再发布\n// | 微信公众号：好象科技\n// | 访问官网：http://www.likemarket.net\n// | 访问社区：http://home.likemarket.net\n// | 访问手册：http://doc.likemarket.net\n// | 好象科技开发团队 版权所有 拥有最终解释权\n// +----------------------------------------------------------------------\n// | Author: LikeShopTeam\n// +----------------------------------------------------------------------\n\n\n// 订单状态 \n\nexport const orderType = {\n    ALL: 'all', //全部\n    PAY: 'pay', //待付款\n    DELIVERY: 'delivery',//待收货\n    FINISH: 'finish',//待收货\n    CLOSE: 'close'//待收货\n}\n//支付方式\nexport const payWayType = {\n    wechat: 1\n}\n\n// 售后状态\nexport const AfterSaleType = {\n    // 售后申请 \n    NORMAL: 'normal',\n    // 处理中\n    HANDLING: 'apply',\n    // 已处理\n    FINISH: 'finish'\n}\n\n// 售后退款操作\nexport const refundOPtType = {\n    // 仅退款\n    ONLY_REFUND: 0,\n    // 退货退款\n    REFUNDS: 1\n}\n\nexport const SMSType = {\n    REGISTER: 'ZCYZ',\n    FINDPWD: 'ZHMM',\n    LOGIN: 'YZMDL',\n    CHANGE_MOBILE: 'BGSJHM'\n}\n\nexport const userOrderPromoteOrder = {\n    ALL: '0',\n    WAIT_RETURN: '1',\n    HANDLED: '2',\n    INVALED: '3'\n}\n\nexport const bargainCodeType = {\n    ALL: \"all\",\n    // 进行中\n    RUNNING: \"running\",\n    // 成功\n    SUCCESS: \"success\",\n    // 失败\n    FAIL: \"fail\"\n}\n\nexport const BargainStatus = {\n    NORMAL: 0,\n    SUCCESS: 1,\n    FAIL: 2\n}\n\n\nexport const FansType = {\n    ALL: 'all',\n    FIRST: 'first',\n    SECOND: 'second'\n}\n\nexport const SortType = {\n    //降序\n    DESC: \"desc\",\n    // 升序\n    ASC: \"asc\",\n    // 无排序方式\n    NONE: \"\",\n};","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./applyAfterSales.vue?vue&type=style&index=0&id=01ca6e11&lang=scss&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAMAAAAPdrEwAAABd1BMVEUAAAAAAAAAAABVVVVmZmZtbW1gYGBxcXFdXV1qampiYmJ2dnZtbW1mZmZgYGBwcHBpaWljY2NxcXFmZmZtbW1oaGhvb29qampmZmZsbGxtbW1ra2twcHBubm5ra2tvb29wcHBubm5tbW1wcHBtbW1wcHBvb29tbW1vb29ubm5ycnJsbGxxcXFwcHBubm5wcHBxcXFwcHBxcXFubm5ubm5vb29wcHBvb29vb29wcHBvb29vb29vb29vb29ubm5wcHBvb29vb29vb29ubm5vb29wcHBvb29ubm5wcHBwcHBvb29vb29vb29vb29wcHBubm5wcHBvb29vb29vb29wcHBvb29ubm5vb29vb29wcHBwcHBvb29vb29wcHBwcHBwcHBvb29vb29wcHBwcHBvb29wcHBvb29wcHBvb29vb29wcHBwcHBvb29wcHBvb29wcHBwcHBwcHBvb29vb29wcHBvb29wcHBwcHBvb29wcHBwcHBvb29wcHBhabGmAAAAfHRSTlMAAQIDBQcICQsMDQ0ODxAQERISFBUWFxgZGhwfIiUmJyksLzAxMjU2Nzo6Oz1AQUJGaW94eXp7gYOEhYeIiouLjI6RlpqbnJ2doKGjpqqtsLC3vb/AwcPDxcbJy8zP0tTV19nb3N3f4uPo6evs8vPz9Pb3+Pj6+vv8/P3+O+IQPgAAAZNJREFUWMPt2MdSAkEUheFBBZVRVEAUFVTMOeeIohINmDCLOWdhYObhhem2XLm7R4uqPg/w161vMXQhSWJiYmI5uLI2Vz6m3Lx9czkEKcsbWmYLhYijE9n0x7SZPt2q6Xvx0qete2kW95rI2+2HLP0+RW5icMe5yQy9Se0JN5mjN+k4wpk0nONM6uI4k05h8qvJ23gxzOR5AmByxk0myU0M3cc4k8YrnInrL0zGcCZPI0CTYSPM5HW0iN7kmrUfASb1FyrMpOcUZ+LJdZNBI8zk1kNv0vLA2gPk5cqgwn4te8nL6ym9rAZk4nJpkH1J1IMakEYqQl22rfGbI07icomf3azuV1Pf7E9yDfLyqgLWSMM0lDBKIx2uQmnEHDANR85oyEu8vEt9s9Wn/xWgJUN26nKE3xyivln28fKOXWj8aGyhNBIBK0ojQH2z+Vtjk/pmyyJKwxJOgjQKZvm3LlpB/Uhy3+vlz+Vy8pddF/vtXrHRP0cd2Se6EqW/WZLy+mPa3TyinHmiO/uaTJKYmJjYf+wLmpv4t3Rddy0AAAAASUVORK5CYII=\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"apply-after-sales\"},[_c('div',{staticClass:\"goods-info row bg-white mt10\"},[_c('div',{staticClass:\"goods-img\"},[_c('van-image',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"lazy-load\":\"\",\"radius\":\"3px\",\"src\":_vm.goods.image}})],1),_c('div',{staticClass:\"goods-desc\"},[_c('div',{staticClass:\"nr\"},[_vm._v(_vm._s(_vm.goods.goods_name))]),_c('div',{staticClass:\"muted xs mt5\"},[_vm._v(_vm._s(_vm.goods.spec_value))])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.hiddenOpt),expression:\"!hiddenOpt\"}],staticClass:\"opt-box mt10\"},[_c('div',{staticClass:\"opt-item row-between border-line\",on:{\"click\":_vm.onlyRefund}},[_vm._m(0),_c('img',{staticClass:\"arrow\",attrs:{\"src\":\"/images/arrow_right.png\"}})]),_c('div',{staticClass:\"opt-item row-between\",on:{\"click\":_vm.allRefunds}},[_vm._m(1),_c('img',{staticClass:\"arrow\",attrs:{\"src\":\"/images/arrow_right.png\"}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hiddenOpt),expression:\"hiddenOpt\"}],staticClass:\"after-sales-form-container bg-white mt10\"},[_c('div',{staticClass:\"after-sales-item row-between\"},[_c('div',{staticClass:\"nr\"},[_vm._v(\"数量\")]),_c('div',{staticClass:\"mr10 nr\"},[_vm._v(_vm._s(_vm.goods.goods_num))])]),_c('div',{staticClass:\"after-sales-item row-between\"},[_c('div',{staticClass:\"nr\"},[_vm._v(\"退款金额\")]),_c('div',{staticClass:\"mr10\"},[_c('price-slice',{attrs:{\"showSubscript\":true,\"subScriptClass\":\"nr\",\"color\":_vm.primaryColor,\"price\":_vm.goods.goods_price,\"firstClass\":\"nr\",\"secondClass\":\"sm\"}})],1)]),_c('div',{staticClass:\"after-sales-item row-between\",on:{\"click\":function($event){_vm.showPopup = true}}},[_c('div',{staticClass:\"nr\"},[_vm._v(\"退款原因\")]),_c('div',{staticClass:\"mr10 nr row\"},[_c('div',{staticClass:\"mr5\",class:{'muted': _vm.reasonIndex == -1}},[_vm._v(_vm._s(_vm.reasonIndex == -1 ? '请选择' : _vm.reason[_vm.reasonIndex]))]),_vm._m(2)])]),_c('div',{staticClass:\"after-sales-item\"},[_c('div',{staticClass:\"mr10 nr row\"},[_c('van-field',{attrs:{\"rows\":\"3\",\"name\":\"reason\",\"autosize\":\"\",\"label\":\"退款说明\",\"type\":\"textarea\",\"placeholder\":\"请描述申请售后的具体原因，100字以内\",\"border\":false},model:{value:(_vm.remark),callback:function ($$v) {_vm.remark=$$v},expression:\"remark\"}})],1)]),_c('div',{staticClass:\"after-sales-item\"},[_vm._m(3),_c('div',{staticClass:\"upload-container\"},[_c('van-uploader',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"preview-size\":\"80px\",\"file-list\":_vm.fileList,\"max-count\":\"1\",\"after-read\":_vm.afterRead},on:{\"delete\":_vm.onDelete}})],1)])]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hiddenOpt),expression:\"hiddenOpt\"}],staticClass:\"bg-primary white br60 btn\",on:{\"click\":_vm.onSubmit}},[_vm._v(\"申请退款\")]),_c('van-popup',{staticStyle:{\"height\":\"70%\"},attrs:{\"position\":\"bottom\",\"round\":\"\",\"closeable\":\"\"},model:{value:(_vm.showPopup),callback:function ($$v) {_vm.showPopup=$$v},expression:\"showPopup\"}},[_c('div',{staticClass:\"pop-container\"},[_c('div',{staticClass:\"pop-header row-center md normal\"},[_vm._v(\"退款原因\")]),_c('div',{staticClass:\"reason-box mt10\"},[_c('van-radio-group',{on:{\"change\":_vm.radioChange},model:{value:(_vm.reasonIndex),callback:function ($$v) {_vm.reasonIndex=$$v},expression:\"reasonIndex\"}},_vm._l((_vm.reason),function(item,index){return _c('label',{key:index,staticClass:\"reason-item row-between\",on:{\"click\":function($event){return _vm.hidePop(index)}}},[_c('div',{staticClass:\"reason-desc nr\"},[_vm._v(_vm._s(item))]),_c('van-radio',{attrs:{\"value\":index,\"name\":index,\"checked-color\":_vm.primaryColor}})],1)}),0)],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"lg\"},[_vm._v(\"仅退款\")]),_c('div',{staticClass:\"muted xs mt5\"},[_vm._v(\"未收到货，与卖家协商同意无需退货只需退款\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"lg\"},[_vm._v(\"退货退款\")]),_c('div',{staticClass:\"muted xs mt5\"},[_vm._v(\"已收到货，需退还收到的实物\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"arrow\"},[_c('img',{attrs:{\"src\":require(\"@A/images/arrow_right.png\")}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header nr row-between\"},[_c('div',[_vm._v(\"上传凭证\")]),_c('div',{staticStyle:{\"color\":\"#BBBBBB\"}},[_vm._v(\"（选填，最多可上传1张）\")])])}]\n\nexport { render, staticRenderFns }","// +----------------------------------------------------------------------\n// | LikeShop100%开源免费商用电商系统\n// +----------------------------------------------------------------------\n// | 欢迎阅读学习系统程序代码，建议反馈是我们前进的动力\n// | 开源版本可自由商用，可去除界面版权logo\n// | 商业版本务必购买商业授权，以免引起法律纠纷\n// | 禁止对系统程序代码以任何目的，任何形式的再发布\n// | Gitee下载：https://gitee.com/likemarket/likeshopv2\n// | 访问官网：https://www.likemarket.net\n// | 访问社区：https://home.likemarket.net\n// | 访问手册：http://doc.likemarket.net\n// | 微信公众号：好象科技\n// | 好象科技开发团队 版权所有 拥有最终解释权\n// +----------------------------------------------------------------------\n// | Author: LikeShopTeam\n// +----------------------------------------------------------------------\n\n<template>\n  <div class=\"apply-after-sales\">\n    <div class=\"goods-info row bg-white mt10\">\n      <div class=\"goods-img\">\n        <van-image width=\"100%\" height=\"100%\" lazy-load radius=\"3px\" :src=\"goods.image\" />\n      </div>\n      <div class=\"goods-desc\">\n        <div class=\"nr\">{{goods.goods_name}}</div>\n        <div class=\"muted xs mt5\">{{goods.spec_value}}</div>\n      </div>\n    </div>\n    <div class=\"opt-box mt10\" v-show=\"!hiddenOpt\">\n      <div class=\"opt-item row-between border-line\" @click=\"onlyRefund\">\n        <div>\n          <div class=\"lg\">仅退款</div>\n          <div class=\"muted xs mt5\">未收到货，与卖家协商同意无需退货只需退款</div>\n        </div>\n        <img class=\"arrow\" src=\"/images/arrow_right.png\" />\n      </div>\n      <div class=\"opt-item row-between\" @click=\"allRefunds\">\n        <div>\n          <div class=\"lg\">退货退款</div>\n          <div class=\"muted xs mt5\">已收到货，需退还收到的实物</div>\n        </div>\n        <img class=\"arrow\" src=\"/images/arrow_right.png\" />\n      </div>\n    </div>\n      <div class=\"after-sales-form-container bg-white mt10\" v-show=\"hiddenOpt\">\n        <div class=\"after-sales-item row-between\">\n          <div class=\"nr\">数量</div>\n          <div class=\"mr10 nr\">{{goods.goods_num}}</div>\n        </div>\n        <div class=\"after-sales-item row-between\">\n          <div class=\"nr\">退款金额</div>\n          <!-- <div class=\"mr10 nr primary\">￥69</div> -->\n          <div class=\"mr10\">\n            <price-slice :showSubscript=\"true\" subScriptClass=\"nr\" :color=\"primaryColor\" :price=\"goods.goods_price\" firstClass=\"nr\" secondClass=\"sm\"></price-slice>\n          </div>\n        </div>\n        <div class=\"after-sales-item row-between\" @click=\"showPopup = true\">\n          <div class=\"nr\">退款原因</div>\n          <div class=\"mr10 nr row\">\n            <div\n              class=\"mr5\"\n              :class=\"{'muted': reasonIndex == -1}\"\n            >{{reasonIndex == -1 ? '请选择' : reason[reasonIndex]}}</div>\n            <div class=\"arrow\">\n              <img src=\"@A/images/arrow_right.png\" />\n            </div>\n          </div>\n        </div>\n        <div class=\"after-sales-item\">\n          <!-- <div class=\"nr\">退款说明</div> -->\n          <div class=\"mr10 nr row\">\n            <van-field\n              v-model=\"remark\"\n              rows=\"3\"\n              name=\"reason\"\n              autosize\n              label=\"退款说明\"\n              type=\"textarea\"\n              placeholder=\"请描述申请售后的具体原因，100字以内\"\n              :border=\"false\"\n            />\n          </div>\n        </div>\n        <div class=\"after-sales-item\">\n          <div class=\"header nr row-between\">\n            <div>上传凭证</div>\n            <div style=\"color:#BBBBBB\">（选填，最多可上传1张）</div>\n          </div>\n          <div class=\"upload-container\">\n            <van-uploader\n              preview-size=\"80px\"\n              style=\"margin-top: 15px\"\n              :file-list=\"fileList\"\n              max-count=\"1\"\n              :after-read=\"afterRead\"\n              @delete=\"onDelete\"\n            />\n          </div>\n        </div>\n      </div>\n      <button class=\"bg-primary white br60 btn\" v-show=\"hiddenOpt\" @click=\"onSubmit\">申请退款</button>\n    <van-popup v-model=\"showPopup\" position=\"bottom\" style=\"height: 70%\" round closeable>\n      <div class=\"pop-container\">\n        <div class=\"pop-header row-center md normal\">退款原因</div>\n        <div class=\"reason-box mt10\">\n          <van-radio-group @change=\"radioChange\" v-model=\"reasonIndex\">\n            <label\n              class=\"reason-item row-between\"\n              v-for=\"(item, index) in reason\"\n              :key=\"index\"\n              @click=\"hidePop(index)\"\n            >\n              <div class=\"reason-desc nr\">{{item}}</div>\n              <van-radio :value=\"index\" :name=\"index\" :checked-color=\"primaryColor\"></van-radio>\n            </label>\n          </van-radio-group>\n        </div>\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport { refundOPtType } from \"../../utils/type\";\nimport { getGoodsInfo, applyAfterSale, applyAgain } from \"../../api/user\";\nimport axios from \"axios\";\nimport { HTTP_URL, ACCESS_TOKEN } from \"@/configs\";\nimport {mapState} from 'vuex'\nexport default {\n  name: \"applyAfterSales\",\n  data() {\n    return {\n      hiddenOpt: false,\n      optTyle: refundOPtType.ONLY_REFUND,\n      goods: {},\n      reason: [],\n      showPopup: false,\n      reasonIndex: -1,\n      fileList: [],\n      remark: \"\",\n    };\n  },\n  methods: {\n    async afterRead(e) {\n        let uploadArr = [];\n        if (e.length) {\n            e.forEach((item) => {\n                uploadArr.push(this.uploadFile(item.file));\n            });\n        } else {\n            uploadArr.push(this.uploadFile(e.file));\n        }\n        Promise.all(uploadArr).then((res) => {\n            const { fileList = [] } = this;\n            fileList.push(...res);\n            this.$toast().clear();\n            this.fileList = fileList;\n        });\n    },\n    uploadFile(file) {\n        let params = new FormData();\n        params.append(\"file\", file);\n        console.log(file, '###', params);\n        return new Promise((resolve) => {\n            axios\n                .post(HTTP_URL + \"file/formimage\", params, {\n                    headers: { \n                      \"Content-Type\": \"multipart/form-data\",\n                      \"token\": this.token \n                    },\n                })\n                .then(({ data }) => {\n                    if (data.code == 1) {\n                        resolve(data.data);\n                    } else {\n                        this.$toast(\"上传失败，请重新上传\");\n                    }\n                });\n        });\n    },\n    onDelete(current) {\n        this.fileList = this.fileList.filter(item => item.name != current.name);\n    },\n    $getGoodsInfo() {    \n      getGoodsInfo({ order_id: this.orderId, item_id: this.itemId }).then((res) => {\n        if (res.code == 1) {\n          this.reason = res.data.reason;\n          this.goods = res.data.goods;\n        }\n      });\n    },\n    $applyAfterSale() {\n        let {itemId, orderId, reason, reasonIndex, optTyle, remark, fileList} = this;\n        console.log(fileList)\n        const data = {\n            item_id: this.itemId,\n            order_id: this.orderId,\n            reason: this.reason[this.reasonIndex],\n            refund_type: optTyle,\n            remark: remark,\n            img: fileList.length > 0 ? fileList[0].base_url : ''\n        }\n        applyAfterSale(data).then(res => {\n            if(res.code == 1) {\n                this.$toast({message: res.msg});\n                setTimeout(() => {\n                    this.$router.replace({name: 'afterSalesDetail', query: {\n                        after_sale_id: res.data.after_sale_id,\n                        order_id: this.orderId\n                    }})\n                }, 1000);\n            }\n        })\n    },\n    $applyAgain() {\n      let {reason, reasonIndex, optTyle, remark, fileList} = this;\n      const data = {\n        id: this.afterSaleId,\n        reason: reason[reasonIndex],\n        refund_type: optTyle,\n        remark: remark,\n        img: fileList\n      }\n      applyAgain(data).then(res => {\n        if(res.code == 1) {\n          this.$toast({message: res.msg});\n          setTimeout(() => {\n            this.$router.replace({name: 'afterSalesDetail', query: {\n              after_sale_id: res.data.after_sale_id,\n            }})\n          }, 1000)\n        }\n      })\n    },\n    onlyRefund() {\n      this.optTyle = refundOPtType.ONLY_REFUND;\n      this.hiddenOpt = true;\n    },\n    allRefunds() {\n      this.optTyle = refundOPtType.REFUNDS;\n      this.hiddenOpt = true;\n    },\n    onSubmit() {\n      if(this.reasonIndex == -1) {\n          this.$toast({message: '请选择退款原因'});\n          return;\n      }\n      if (this.afterSaleId) {\n        this.$applyAgain();\n      } else {\n        this.$applyAfterSale();\n      }\n    },\n    radioChange(e) {\n        console.log(e)\n    },\n    hidePop(index) {\n        this.showPopup = false;\n        this.reasonIndex = index;\n    },\n  },\n  created() {},\n  mounted() {\n    let { item_id, order_id, after_sale_id } = this.$route.query;\n    this.itemId = item_id;\n    this.orderId = order_id;\n    this.afterSaleId = after_sale_id;\n    this.$getGoodsInfo();\n  },\n  computed: {\n       ...mapState(['token'])\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\nimg {\n  width: 100%;\n  height: 100%;\n}\n.apply-after-sales {\n  .goods-info {\n    padding: 10px 12px;\n    .goods-img {\n      width: 80px;\n      height: 80px;\n      flex: none;\n    }\n    .goods-desc {\n      margin-left: 12px;\n      line-height: 20px;\n    }\n  }\n  .after-sales-form-container {\n    padding-left: 10px;\n    .after-sales-item:not(:last-of-type) {\n      padding: 12px 0px;\n      line-height: 18px;\n      border-bottom: 1px solid #f2f2f2;\n      .arrow {\n        width: 14px;\n        height: 14px;\n      }\n    }\n    .after-sales-item {\n      padding: 12px 0px;\n      line-height: 18px;\n      .arrow {\n        width: 14px;\n        height: 14px;\n      }\n    }\n  }\n  .btn {\n    padding: 10px 142.5px;\n    margin: 15px 13px 0;\n  }\n  .opt-box {\n    .opt-item {\n      padding: 10px 10px 10px 15px;\n      background-color: white;\n      .arrow {\n        width: 14px;\n        height: 14px;\n      }\n    }\n    .border-line {\n      border: 1px solid #f2f2f2;\n    }\n  }\n}\n.pop-header {\n  line-height: 21px;\n  padding: 15px;\n}\n.reason-box {\n  .reason-item {\n    padding: 12px 10px;\n    .reason-desc {\n      line-height: 23px;\n    }\n  }\n}\n\n.van-cell/deep/ {\n  padding: 0;\n  .van-field__label {\n    width: auto;\n    padding: 10px 0;\n    span {\n      color: #333333;\n    }\n  }\n  .van-field__value {\n    .van-field__body {\n      background-color: #f9f6f9;\n      border-radius: 10px;\n      font-size: 14px;\n      textarea {\n        padding: 10px;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./applyAfterSales.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./applyAfterSales.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./applyAfterSales.vue?vue&type=template&id=01ca6e11&scoped=true&\"\nimport script from \"./applyAfterSales.vue?vue&type=script&lang=js&\"\nexport * from \"./applyAfterSales.vue?vue&type=script&lang=js&\"\nimport style0 from \"./applyAfterSales.vue?vue&type=style&index=0&id=01ca6e11&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01ca6e11\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}