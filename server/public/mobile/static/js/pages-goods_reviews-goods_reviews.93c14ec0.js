(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods_reviews-goods_reviews"],{2154:function(n,e,t){"use strict";var a=t("4ea4");t("d81d"),t("a434"),t("d3b7"),t("e25e"),t("3ca3"),t("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(t("2909")),o=t("367f"),s=t("8c4f"),r=a(t("6a5b")),d={data:function(){return{goodsRate:0,descRate:0,serverRate:0,deliveryRate:0,goodsRateDesc:"",fileList:[],goods:[],comment:"",type:""}},components:{orderGoods:r.default},props:{},onLoad:function(n){this.id=n.id,this.getCommentInfoFun()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{onChange:function(n){this.type=n.value},goodsRateChange:function(n){var e=n.value,t="";t=n.value<=2?"差评":3==n.value?"中评":"好评",this.goodsRate=e,this.goodsRateDesc=t},onSubmit:function(){var n=this,e=this.goodsRate,t=this.fileList,a=this.comment,i=this.deliveryRate,o=this.descRate,r=this.serverRate,d=t.map((function(n){return n.url}));return e?o?r?i?void(0,s.goodsComment)({id:parseInt(this.id),goods_comment:e,service_comment:r,express_comment:i,description_comment:o,comment:a,image:d}).then((function(e){1==e.code&&n.$toast({title:"评价成功"},{tab:5,url:"/pages/goods_comment_list/goods_comment_list?type=1"})})):this.$toast({title:"请对配送服务进行评分"}):this.$toast({title:"请对服务态度进行评分"}):this.$toast({title:"请对描述相符进行评分"}):this.$toast({title:"请对商品进行评分"})},onInput:function(n){this.comment=n.detail.value},getCommentInfoFun:function(){var n=this;(0,s.getCommentInfo)({id:this.id}).then((function(e){1==e.code&&n.goods.push(e.data)}))},afterRead:function(n){var e=this,t=n.detail.file;uni.showLoading({title:"正在上传中...",mask:!0});var a=t.map((function(n){return e.uploadFile(n.path)}));Promise.all(a).then((function(n){var t=e.fileList,a=void 0===t?[]:t;a.push.apply(a,(0,i.default)(n)),uni.hideLoading(),e.fileList=a}))},uploadFile:function(n){var e=this;return new Promise((function(t){uni.uploadFile({url:o.baseURL+"file/formimage",filePath:n,name:"file",success:function(n){e.fileList;var a=JSON.parse(n.data);1==a.code&&t(a.data)},fail:function(){uni.hideLoading(),e.$toast({title:"上传失败，请重新上传"})}})}))},onDelete:function(n){var e=n.detail.index,t=this.fileList;t.splice(e,1),this.fileList=t}}};e.default=d},5881:function(n,e,t){"use strict";t.r(e);var a=t("e048"),i=t("8814");for(var o in i)"default"!==o&&function(n){t.d(e,n,(function(){return i[n]}))}(o);t("71d2");var s,r=t("f0c5"),d=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"244a6be4",null,!1,a["a"],s);e["default"]=d.exports},"6a5b":function(n,e,t){"use strict";t.r(e);var a=t("b2ac"),i=t("e502");for(var o in i)"default"!==o&&function(n){t.d(e,n,(function(){return i[n]}))}(o);t("f7e5");var s,r=t("f0c5"),d=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"574f4399",null,!1,a["a"],s);e["default"]=d.exports},"6bc1":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{}},components:{},props:{list:{type:Array,default:function(){return[]}},link:{type:Boolean,default:!1},showRefund:{type:Boolean,default:!1}},methods:{}};e.default=a},"71d2":function(n,e,t){"use strict";var a=t("7deb"),i=t.n(a);i.a},"7deb":function(n,e,t){var a=t("8d03");"string"===typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var i=t("4f06").default;i("496bcf1a",a,!0,{sourceMap:!1,shadowMode:!1})},8814:function(n,e,t){"use strict";t.r(e);var a=t("2154"),i=t.n(a);for(var o in a)"default"!==o&&function(n){t.d(e,n,(function(){return a[n]}))}(o);e["default"]=i.a},"8d03":function(n,e,t){var a=t("24fb");e=a(!1),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* pages/goods_reviews/goods_reviews.wxss */.goods-reviews[data-v-244a6be4]{padding:%?20?% 0 %?40?%}.goods-reviews .rate[data-v-244a6be4]{padding:%?20?% %?30?%}.goods-reviews .rate .lable[data-v-244a6be4]{width:%?170?%}.goods-reviews .goods-dec[data-v-244a6be4]{padding:%?30?%}.goods-reviews .goods-dec .textarea[data-v-244a6be4]{height:%?240?%;border-radius:%?10?%}.goods-reviews .goods-dec .textarea uni-textarea[data-v-244a6be4]{width:100%;height:100%;padding:%?20?%;box-sizing:border-box}.goods-reviews .btn[data-v-244a6be4]{width:%?698?%;margin:%?30?% %?26?% 0}.rate .item .desc[data-v-244a6be4]{margin-left:%?30?%}.goods-reviews .goods-evaluate[data-v-244a6be4]{padding:%?20?% %?30?%;background-color:#fff;border:%?1?% solid #f2f2f2}.goods-reviews .goods-evaluate .desc[data-v-244a6be4]{margin-left:%?30?%}.goods-reviews .goods-evaluate .lable[data-v-244a6be4]{width:%?170?%}",""]),n.exports=e},"8e15":function(n,e,t){var a=t("24fb");e=a(!1),e.push([n.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */.order-goods .item[data-v-574f4399]{padding:%?20?% %?24?%}.order-goods .goods-footer[data-v-574f4399]{height:%?70?%;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;padding:0 %?24?%}.order-goods .goods-footer .plain[data-v-574f4399]{border:1px solid #999;height:%?52?%;line-height:%?52?%;font-size:%?26?%}',""]),n.exports=e},a876:function(n,e,t){var a=t("8e15");"string"===typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var i=t("4f06").default;i("6d07f5dc",a,!0,{sourceMap:!1,shadowMode:!1})},b2ac:function(n,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return o})),t.d(e,"a",(function(){return a}));var a={customImage:t("d422").default,priceFormat:t("32eb").default},i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-uni-view",{staticClass:"order-goods bg-white"},n._l(n.list,(function(e,a){return t("v-uni-view",{key:a,staticClass:"item-wrap"},[t("v-uni-view",{staticClass:"item row"},[t("v-uni-view",{staticClass:"goods-img"},[t("custom-image",{attrs:{width:"180rpx",radius:"10rpx",height:"180rpx","lazy-load":!0,src:e.image_str||e.image}})],1),t("v-uni-view",{staticClass:"goods-info ml20 flex1"},[t("v-uni-view",{staticClass:"goods-name line2 mb10"},[n._v(n._s(e.goods_name||e.name))]),t("v-uni-view",{staticClass:"goods-spec xs muted mb20"},[n._v(n._s(e.spec_value_str))]),t("v-uni-view",{staticClass:"row-between"},[t("v-uni-view",{staticClass:"goods-price "},[t("v-uni-view",{staticClass:"primary"},[t("price-format",{attrs:{"subscript-size":24,"first-size":32,"second-size":24,price:e.goods_price}})],1)],1),t("v-uni-view",{staticClass:"goods-num sm "},[n._v("x"+n._s(e.goods_num))])],1)],1)],1),n.link&&e.comment_btn||e.refund_btn?t("v-uni-view",{staticClass:"footer row"},[t("v-uni-view",{staticStyle:{flex:"1"}}),e.comment_btn?t("v-uni-navigator",{staticClass:"mr20",attrs:{"hover-class":"none",url:"/pages/goods_reviews/goods_reviews?id="+e.id}},[t("v-uni-button",{staticClass:"plain br60",attrs:{size:"xs","hover-class":"none"}},[n._v("评价晒图")])],1):n._e(),e.refund_btn?t("v-uni-navigator",{attrs:{"hover-class":"none",url:"/pages/apply_refund/apply_refund?order_id="+e.order_id+"&item_id="+e.item_id}},[t("v-uni-button",{staticClass:"plain br60",attrs:{size:"xs","hover-class":"none"}},[n._v("申请退款")])],1):n._e()],1):n._e()],1)})),1)},o=[]},e048:function(n,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return o})),t.d(e,"a",(function(){return a}));var a={orderGoods:t("6a5b").default,uniRate:t("7715").default},i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-uni-view",{staticClass:"goods-reviews"},[t("order-goods",{attrs:{list:n.goods}}),t("v-uni-view",{staticClass:"goods-evaluate row"},[t("v-uni-view",{staticClass:"lable"},[n._v("商品评价")]),t("uni-rate",{attrs:{name:"goodsRate",activeColor:"#FF2C3C",value:n.goodsRate},on:{change:function(e){arguments[0]=e=n.$handleEvent(e),n.goodsRateChange.apply(void 0,arguments)}}}),t("v-uni-view",{class:"desc "+(n.goodsRate<=2?"muted":"primary")+" ",attrs:{hidden:0==n.goodsRate}},[n._v(n._s(n.goodsRateDesc))])],1),t("v-uni-view",{staticClass:"rate bg-white"},[t("v-uni-view",{staticClass:"item nr lighter mb20"},[n._v(n._s(n.goods[0].name))]),t("v-uni-view",{staticClass:"item row mb20"},[t("v-uni-view",{staticClass:"lable"},[n._v("描述相符")]),t("uni-rate",{attrs:{name:"descRate",activeColor:"#FF2C3C","data-type":"descRate",value:n.descRate},on:{change:function(e){arguments[0]=e=n.$handleEvent(e),n.onChange.apply(void 0,arguments)}}})],1),t("v-uni-view",{staticClass:"item row mb20"},[t("v-uni-view",{staticClass:"lable"},[n._v("服务态度")]),t("uni-rate",{attrs:{name:"serverRate",activeColor:"#FF2C3C","data-type":"serverRate",value:n.serverRate},on:{change:function(e){arguments[0]=e=n.$handleEvent(e),n.onChange.apply(void 0,arguments)}}})],1),t("v-uni-view",{staticClass:"item row"},[t("v-uni-view",{staticClass:"lable"},[n._v("配送服务")]),t("uni-rate",{attrs:{name:"deliveryRate",activeColor:"#FF2C3C","data-type":"deliveryRate",value:n.deliveryRate},on:{change:function(e){arguments[0]=e=n.$handleEvent(e),n.onChange.apply(void 0,arguments)}}})],1)],1),t("v-uni-view",{staticClass:"goods-dec bg-white mt20"},[t("v-uni-view",{staticClass:"title mb20 md bold"},[n._v("商品描述")]),t("v-uni-view",{staticClass:"textarea bg-gray mb20"},[t("v-uni-textarea",{attrs:{name:"comment",placeholder:"宝贝收到还满意吗，说说你的使用心得。分享给想买的他们吧！！",value:n.comment},on:{input:function(e){arguments[0]=e=n.$handleEvent(e),n.onInput.apply(void 0,arguments)}}})],1),t("van-uploader",{attrs:{"preview-size":"180rpx","image-fit":"aspectFill",multiple:"true","max-count":"5","file-list":n.fileList},on:{"after-read":function(e){arguments[0]=e=n.$handleEvent(e),n.afterRead.apply(void 0,arguments)},delete:function(e){arguments[0]=e=n.$handleEvent(e),n.onDelete.apply(void 0,arguments)}}})],1),t("v-uni-button",{staticClass:"btn br60",attrs:{"form-type":"submit",type:"primary",size:"lg"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.onSubmit.apply(void 0,arguments)}}},[n._v("立即评价")])],1)},o=[]},e502:function(n,e,t){"use strict";t.r(e);var a=t("6bc1"),i=t.n(a);for(var o in a)"default"!==o&&function(n){t.d(e,n,(function(){return a[n]}))}(o);e["default"]=i.a},f7e5:function(n,e,t){"use strict";var a=t("a876"),i=t.n(a);i.a}}]);